/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{460:function(Aa,wa,r){r.r(wa);r.d(wa,"ByteRangeRequest",function(){return z});var oa=r(0),na=r(1);r.n(na);var ma=r(2),fa=r(159);Aa=r(100);var da=r(264),aa=r(80),y=r(76),w=r(263),f=r(178);r=r(398);var e=[],a=[],b=window,h=function(){return function(){this.Zm=1}}(),n;(function(ca){ca[ca.UNSENT=0]="UNSENT";ca[ca.DONE=4]="DONE"})(n||(n={}));var z=function(){function ca(ja,ba,ea,ia){var ha=this;this.url=ja;this.range=ba;this.rf=ea;
this.withCredentials=ia;this.D5=n;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);b.Uint8Array&&(this.request.responseType="arraybuffer");ia&&(this.request.withCredentials=ia);x.DISABLE_RANGE_HEADER||(Object(na.isUndefined)(ba.stop)?this.request.setRequestHeader("Range","bytes="+ba.start):this.request.setRequestHeader("Range",["bytes=",ba.start,"-",ba.stop-1].join("")));ea&&Object.keys(ea).forEach(function(la){ha.request.setRequestHeader(la,ea[la])});this.request.overrideMimeType?
this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=w.a.NOT_STARTED}ca.prototype.start=function(ja){var ba=this,ea=this.request;ea.onreadystatechange=function(){if(ba.aborted)return ba.status=w.a.ABORTED,ja({code:w.a.ABORTED});if(this.readyState===ba.D5.DONE){ba.ED();var ia=0===window.document.URL.indexOf("file:///");200===ea.status||206===ea.status||ia&&0===ea.status?(ia=b.qW(this),ba.JO(ia,ja)):(ba.status=
w.a.ERROR,ja({code:ba.status,status:ba.status}))}};this.request.send(null);this.status=w.a.STARTED};ca.prototype.JO=function(ja,ba){this.status=w.a.SUCCESS;if(ba)return ba(!1,ja)};ca.prototype.abort=function(){this.ED();this.aborted=!0;this.request.abort()};ca.prototype.ED=function(){var ja=Object(f.c)(this.url,this.range,a);-1!==ja&&a.splice(ja,1);if(0<e.length){ja=e.shift();var ba=new ca(ja.url,ja.range,this.rf,this.withCredentials);ja.request=ba;a.push(ja);ba.start(Object(f.d)(ja))}};ca.prototype.extend=
function(ja){var ba=Object.assign({},this,ja.prototype);ba.constructor=ja;return ba};return ca}(),x=function(ca){function ja(ba,ea,ia,ha,la){ia=ca.call(this,ba,ia,ha)||this;ia.xj={};ia.dC=ea;ia.url=ba;ia.DISABLE_RANGE_HEADER=!1;ia.Xy=z;ia.GP=3;ia.rf=la||{};return ia}Object(oa.c)(ja,ca);ja.prototype.Jw=function(ba,ea,ia){var ha=-1===ba.indexOf("?")?"?":"&";switch(ia){case !1:case y.a.NEVER_CACHE:ba=ba+ha+"_="+Object(na.uniqueId)();break;case !0:case y.a.CACHE:ba=ba+ha+"_="+ea.start+","+(Object(na.isUndefined)(ea.stop)?
"":ea.stop)}return ba};ja.prototype.eU=function(ba,ea,ia,ha){void 0===ia&&(ia={});return new this.Xy(ba,ea,ia,ha)};ja.prototype.Yca=function(ba,ea,ia,ha,la){for(var ka=0;ka<e.length;ka++)if(Object(na.isEqual)(e[ka].range,ea)&&Object(na.isEqual)(e[ka].url,ba))return e[ka].jh.push(ha),e[ka].LE++,null;for(ka=0;ka<a.length;ka++)if(Object(na.isEqual)(a[ka].range,ea)&&Object(na.isEqual)(a[ka].url,ba))return a[ka].jh.push(ha),a[ka].LE++,null;ia={url:ba,range:ea,dC:ia,jh:[ha],LE:1};if(0===e.length&&a.length<
this.GP)return a.push(ia),ia.request=this.eU(ba,ea,la,this.withCredentials),ia;e.push(ia);return null};ja.prototype.No=function(ba,ea,ia){var ha=this.Jw(ba,ea,this.dC);(ba=this.Yca(ha,ea,this.dC,ia,this.rf))&&ba.request.start(Object(f.d)(ba));return function(){var la=Object(f.c)(ha,ea,a);if(-1!==la){var ka=--a[la].LE;0===ka&&a[la].request&&a[la].request.abort()}else la=Object(f.c)(ha,ea,e),-1!==la&&(ka=--e[la].LE,0===ka&&e.splice(la,1))}};ja.prototype.TV=function(){return{start:-fa.a}};ja.prototype.Oga=
function(){var ba=-(fa.a+fa.e);return{start:ba-fa.d,end:ba}};ja.prototype.hu=function(ba){var ea=this;this.jC=!0;var ia=fa.a;this.No(this.url,this.TV(),function(ha,la,ka){function pa(){var qa=ea.Cd.PV();ea.No(ea.url,qa,function(ra,ua){if(ra)return Object(ma.j)("Error loading central directory: "+ra),ba(ra);ua=Object(aa.a)(ua);if(ua.length!==qa.stop-qa.start)return ba("Invalid XOD file: Zip central directory data is wrong size! Should be "+(qa.stop-qa.start)+" but is "+ua.length);ea.Cd.TZ(ua);ea.$I=
!0;ea.jC=!1;return ba(!1)})}if(ha)return Object(ma.j)("Error loading end header: "+ha),ba(ha,la,ka);la=Object(aa.a)(la);if(la.length!==ia)return ba("Invalid XOD file: Zip end header data is wrong size!");try{ea.Cd=new da.a(la)}catch(qa){return ba(qa)}ea.Cd.xia?ea.No(ea.url,ea.Oga(),function(qa,ra){if(qa)return Object(ma.j)("Error loading zip64 header: "+qa),ba(qa);ra=Object(aa.a)(ra);ea.Cd.Qia(ra);pa()}):pa()})};ja.prototype.nW=function(ba){ba(Object.keys(this.Cd.lo))};ja.prototype.gN=function(ba,
ea){var ia=this;if(this.Cd.TT(ba)){var ha=this.Cd.ux(ba);if(ha in this.xj){var la=this.yh[ba];la.Ms=this.xj[ha];la.Ms.Zm++;la.cancel=la.Ms.cancel}else{var ka=this.Cd.Xea(ba),pa=this.No(this.url,ka,function(ra,ua){ra?(Object(ma.j)('Error loading part "'+ba+'": '+ra),ia.No(ia.url,ka,function(va,Ba){if(va)return ea(va,ba);ia.XZ(Ba,ka,ha,ba,ea)})):ia.XZ(ua,ka,ha,ba,ea)}),qa=this.yh[ba];qa&&(qa.j1=!0,qa.cancel=function(){qa.Ms.Zm--;0===qa.Ms.Zm&&(pa(),delete ia.xj[ha])},this.xj[ha]=new h(ha),qa.Ms=this.xj[ha],
qa.Ms.cancel=qa.cancel)}}else delete this.yh[ba],ea(Error('File not found: "'+ba+'"'),ba)};ja.prototype.XZ=function(ba,ea,ia,ha,la){if(ba.length!==ea.stop-ea.start)la(Error("Part data is wrong size!"),ha);else{do{if(!this.xj[ia])return;ha=this.xj[ia].Zm;for(var ka=ea.nr.length,pa=0;pa<ka;++pa){var qa=ea.nr[pa];la(!1,qa.jr,ba["string"===typeof ba?"substring":"subarray"](qa.start,qa.stop),this.Cd.sX(qa.jr));qa.jr in this.yh&&delete this.yh[qa.jr]}}while(ha!==this.xj[ia].Zm);delete this.xj[ia]}};ja.DISABLE_RANGE_HEADER=
!1;ja.GP=3;return ja}(Aa.a);(function(ca){function ja(ba,ea,ia){var ha=ca.call(this)||this,la;for(la in ba)ha[la]=ba[la];ha.pva=ba;ha.startOffset=ea;ha.endOffset=ia;ha.eU=function(ka,pa,qa,ra){Object(na.isUndefined)(pa.stop)?(pa.start+=ha.endOffset,pa.stop=ha.endOffset):(pa.start+=ha.startOffset,pa.stop+=ha.startOffset);ka=ha.Jw(ha.url,pa,ha.dC);return new ba.Xy(ka,pa,qa,ra)};return ha}Object(oa.c)(ja,ca);return ja})(x);Object(r.a)(x);Object(r.b)(x);wa["default"]=x}}]);}).call(this || window)
